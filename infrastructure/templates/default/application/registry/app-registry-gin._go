package registry

type {{CamelCase .RegistryName}} struct {
	*server.GinHTTPHandler
	controller.Controller
}

func New{{PascalCase .RegistryName}}() func() application.RegistryContract {
	return func() application.RegistryContract {

        httpHandler := server.NewGinHTTPHandlerDefault()

        datasource := {{LowerCase .GatewayName}}.New{{PascalCase .GatewayName}}Gateway()

        return &{{CamelCase .RegistryName}}{
            GinHTTPHandler: &httpHandler,
            Controller: {{LowerCase .ControllerName}}.Controller{
                Router:             httpHandler.Router,
                {{PascalCase .UsecaseName}}Inport: {{LowerCase .UsecaseName}}.NewUsecase(datasource),
            },
        }

    }
}